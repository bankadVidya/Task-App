<div *ngIf="loadingservice.loadingSubject | async" class="loaderDiv">
  <div class="loader"></div>
</div>
<div id="overlay">
  <div class="popup">
  
        <form class="form" #taskForm=ngForm (ngSubmit)="submitForm(taskForm)">
        <div class="formHeader">
            <h3>{{editFlag ?' Update Task' :'Create a new Task'}}</h3>
            <img id="cross"  (click)="closePopup()" src="/assets/cross.png">
        </div>
    
      <div class="input-box">
        <label for="title">Title*</label>
        <br />
        <input name="title" #titleF="ngModel" [ngClass]="titleF.invalid && titleF.touched ?'redTitle': 'title'" placeholder="Enter Story Title" required ngModel/>
        <small *ngIf="titleF.invalid && titleF.touched"><b>Title is Mandatory!</b></small>
      </div>
      <div>
        <label for="des">Description*</label> <br />
        <textarea name="des" #desc="ngModel" [ngClass]=" desc.invalid && desc.touched ? 'reddes':'des'" ngModel placeholder="Enter Story Description" required></textarea>
        <small *ngIf="desc.invalid && desc.touched"><b>Description is Mandatory!</b></small>
      </div>

      <div class="column">
        <div class="col1">
          <label for="assignedTo">Assigned To</label><br />
          <input [ngClass]="{'redass':assignedTo.invalid && assignedTo.touched}" #assignedTo="ngModel" ngModel name="assignedTo" type="text" id="assignedTo" required/>
          <div>
            <small *ngIf="assignedTo.invalid && assignedTo.touched"><b>AssignedTo is mandatory!</b></small>
          </div>
        </div>

        <div class="col2">
          <label for="createdAt">Created At</label><br />
          <input ngModel name="date" type="date" id="createdAt" />
        </div>
      </div>



      <div class="column2">
            <div class="prority">
                <label>Priority</label><br/>
                <select ngModel name="priority">
                    <option disabled selected hidden >Choose Priority</option>
                    <option>High</option>
                    <option>Medium</option>
                    <option>Low</option>
                </select>
            </div>
            <div class="Status">
                <label>Status</label><br/>
                <select ngModel name="status">
                    <option disabled selected hidden>Choose Status</option>
                    <option>Open</option>
                    <option>Fixed</option>
                    <option>Closed</option>
                </select>
            </div>
      </div>

     <button [disabled]="!taskForm.valid" [ngClass]=" taskForm.touched && !editFlag ?'disabledBtn':'taskbtn'" type="submit" >{{editFlag?'Update Task' :'Create Task'}}</button>
    </form>
  </div>
</div>
